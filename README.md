# Сервис для работы с секретными сообщениями

## Оглавление

1. [Обзор](#Обзор)
2. [Начало работы](#Начало-работы)
3. [Тестирование](#тестирование)
4. [Архитектура](#Архитектура)

|        | Url               |
|--------|-------------------|
| Стейдж | http://secret.loc |
| Прод   |                   |

---

## Обзор

Этот сервис позволяет отправлять и читать секретные сообщения

---

## Начало работы

Инструкция по установке и запуску проекта: [INSTALL.md](INSTALL.md)

---

## Тестирование

- Прописываем пользователю бд права на создание бд

```shell
sudo -u postgres psql -c 'ALTER USER "username" CREATEDB;'
```

- Копируем тестовое окружение

```shell
cp .env.test .env.test.local
```

- В .env.local заполняем все данные о подключении к бд (менять базу данных не надо, Symfony сам подтянет префикс)
- Прописываем окружение

- Запускаем тесты

```shell
make test
```

## Архитектура

Архитектура проекта основана на подходах чистой архитектуры (Clean Architecture) и DDD (Domain Driven Design) принципах.

### Структура папок

Сервис написан с использованием чистой архитектуры.
Основные части:

1. [Слой домена](src/Domain)
   В этом слое описаны
2. [Слой приложений](src/Application)
   В этом слое описаны сценарии взаимодействия с сервисом
3. [Слой представлений](src/Presentation)
   В этом слое описаны контроллеры, консольные команды
4. [Слой инфраструктуры](src/Infrastructure)
   В этом слое описаны конкретные реализации интерфейсов и контрактов, описанных в слое домена
